<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-slider/paper-slider.html">
<link rel="import" href="../bower_components/iron-form/iron-form.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/paper-material/paper-material.html">
<link rel="import" href="../bower_components/paper-toggle-button/paper-toggle-button.html">

<dom-module id="my-new-view">
  <!-- Defines the element's style and local DOM -->
  <template>
    <style>
      :host {
        display: block;

        padding: 16px;
      }

      paper-button {
        margin-top: 10px;
      }

      paper-button.green {
        background: green;
        color: white;
        }

      paper-button.red {
        background: red;
        color: white;
      }

      paper-material {
        display: inline-block;
        background: white;
        box-sizing: border-box;
        margin: 8px;
        padding: 16px;
        border-radius: 2px;
}

    </style>

    <h1>Add Contact Information</h1>

    <paper-material elevation="1">

    <h2>Add basic details</h2>

<!-- http://localhost:3000 testing: http://httpbin.org/post -->
     <form is="iron-form" method="post" action="http://127.0.0.1/polymersupport/contact_handler.php/" id="contactForm" content-type="application/json">

       <paper-input maxlength=25 name="c_firstName" label="First name" style="width: 150px" required auto-validate></paper-input>
       <paper-input maxlength=25 name="c_lastName" label="Last name" style="width: 150px"></paper-input>
       <paper-input maxlength=255 name="c_Position" label="Position" style="width: 300px"></paper-input>
       <paper-button class="green" raised onclick="submitForm()"><iron-icon icon="save"></iron-icon>Submit</paper-button>
       <paper-button class="red" raised onclick="_reset(event)"><iron-icon icon="delete"></iron-icon>Cancel</paper-button>
       <div class="output"></div>

     </form>
    </paper-material>

    <paper-material elevation="1">

    <h2>Add Phone Number</h2>

<!-- http://localhost:3000 testing: http://httpbin.org/post -->
     <form is="iron-form" method="post" action="http://127.0.0.1/polymersupport/phone_handler.php/" id="phoneForm" content-type="application/json">

       <paper-input maxlength=3 name="p_contactID" label="Contact ID"
           style="width: 80px"
           prevent-invalid-input allowed-pattern="[0-9]"
           required auto-validate></paper-input>
       <paper-input name="p_phoneNumber" label="Phone number"
       style="width: 150px"
       maxlength=13 minlength=7
       prevent-invalid-input allowed-pattern="[0-9, ' ']"
       required auto-validate></paper-input>

       <paper-toggle-button id='mobileFlag' value='Yes' name="p_mobileFlag" checked>Mobile Number?</paper-toggle-button>

       <paper-button class="green" raised onclick="submitForm()"><iron-icon icon="save"></iron-icon>Submit</paper-button>
       <paper-button class="red" raised onclick="_reset(event)"><iron-icon icon="delete"></iron-icon>Cancel</paper-button>
       <div class="output"></div>

     </form>
    </paper-material>


  </template>
  <!-- Creates the element's prototype and registers it -->
  <script>
    Polymer({
      is: 'my-new-view'
    });

    function _reset(event) {
       var form = Polymer.dom(event).localTarget.parentElement
       form.reset();
    //   form.querySelector('.output').innerHTML = '';
     }

    function submitForm() {
      document.getElementById('contactForm').submit();
      document.getElementById('contactForm').reset();
     }

    function submitForm() {
      document.getElementById('phoneForm').submit();
      document.getElementById('phoneForm').reset();
     }

  </script>
</dom-module>
